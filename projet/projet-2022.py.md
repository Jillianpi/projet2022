{"cells":[{"metadata":{},"id":"707629a1","cell_type":"markdown","source":"<!-- LTeX: language=fr -->\n\nProjet Apprendre à programmer 2022\n=================================="},{"metadata":{},"id":"ede1df0e","cell_type":"markdown","source":"## Pratique\n\n- Projet à rendre le 3 mai 2022 *au plus tard*\n  - Si vous avez un problème, si vous êtes en retard, contactez-moi le plus tôt possible pour ce\n    qu'il est possible d'arranger.\n- Projet individuel ou par groupe de deux personnes.\n  - S'il y a un problème — quel qu'il soit — dans votre groupe, n'hésitez pas à m'en parler.\n- Rendu via la page Cours en Ligne du cours, ou en cas de problème par email à\n  [`lgrobol@parisnanterre.fr`](mailto:lgrobol@parisnanterre.fr)."},{"metadata":{},"id":"11b1969b","cell_type":"markdown","source":"## Principe\n\nPour ce projet, vous allez réaliser un clone du jeu\n[Wordle](https://www.nytimes.com/games/wordle/index.html) (voir aussi [Le\nMot](https://wordle.louan.me/), une version en français). Le principe de ce jeu est le suivant :\n\n- Vous avez six essais pour trouver un mot secret de six lettres.\n- Le mot secret est un mot courant, qui n'est pas un nom propre, choisi au hasard dans un lexique\n  prédéterminé.\n- À chaque essai, vous proposez un mot, qui doit être dans un lexique prédéterminé. Proposer un mot\n  qui n'est pas dans ce lexique ne compte pas comme un essai manqué.\n- Si le mot que vous avez proposé est le bon, vous avez gagné.\n  - La comparaison ne tient pas compte de la casse (`a` et `A` sont considérés somme la même lettre\n    par exemple)\n- Sinon, le jeu vous indique parmi les lettres du mot proposé lesquelles sont également présentes\n  dans le mot secret et pour chacune de celle-ci, si elle se trouve à la même place dans le mot\n  proposé et dans le mot secret.\n- Si au bout de six essais, vous n'avez pas trouvé le mot proposé, vous avez perdu.\n\nL'objectif de ce projet est de produire un script Python qui implémente les règles ci-dessus.\n\nVoici à quoi pourrait ressembler une partie où le mot à trouver était *attela*. Les saisies sont\nindiquées par `>`, une lettre bien placée est indiquée par `o`, une lettre présente, mais mal\nplacée par `+` et une lettre fausse par `×` :\n\n```text\nDeviner un mot de 6 lettres\nIl reste 6 essais\n> trahir\n+×+×××\nIl reste 5 essais\n> paysan\n+××+×\nIl reste 4 essais\natelle n'est pas un mot autorisé\nIl reste 4 essais\n> abaque\no×+××+\nIl reste 3 essais\n> attire\nooo××+\nIl reste 2 essais\n> attela\noooooo\nBravo !\n```"},{"metadata":{},"id":"91542ba4","cell_type":"markdown","source":"## Consignes\n\nPour ce projet, vous devrez donc rendre un script en Python qui implémente les règles ci-dessus.\nVous pouvez le faire soit complètement par vos propres moyens, soit en répondant aux questions\nsuivantes, voire en faisant un peu des deux. Pour aller plus loin, vous pouvez en plus essayer\nd'implémenter les [règles facultatives](#regles-facultatives).\n\nVous pouvez travailler directement dans ce notebook pour répondre aux questions :\n\n- Soit dans Binder\n  - N'oubliez pas de bien télécharger votre travail sous forme de notebook.\n  - Vous pouvez rouvrir un notebook que vous avez téléchargé en allant dans « *File* » → « *Open* »\n    → « *Upload* »\n- Soit, si vous vous sentez à l'aise et que votre machine le permet, en utilisant Anaconda (voir par\n  exemple [ce\n  tutoriel](https://openclassrooms.com/fr/courses/4452741-decouvrez-les-librairies-python-pour-la-data-science/5559646-installez-jupyter-sur-votre-propre-ordinateur)).\n\nL'autre option — **que je vous recommande** —, c'est d'écrire un script en Python, soit dans un\nenvironnement de développement sur votre machine (comme Thonny) soit dans\n[repl.it](https://repl.it). Dans ce cas, écrivez simplement un script `.py` qui démarre le jeu quand\non le lance. Vous pouvez indiquer les parties du code qui correspondent aux questions en écrivant\ndes commentaires `#`."},{"metadata":{},"id":"7d7ee0e3","cell_type":"markdown","source":"### 1. Comparer une proposition au mot secret\n\nÉcrire une fonction `comparer`, avec comme arguments deux chaînes de caractères, `proposition` et\n`secret`. On suppose qu'elles sont toutes les deux uniquement composées de lettres minuscules et\nsont de même longueur.\n\n`comparer` doit renvoyer une chaîne de caractère de la même longueur que `proposition` et `secret`,\nchacun des caractères indiquant si le caractère correspondant dans `proposition` est bien placé\n(`o`), bien trouvé, mais mal placé (`+`), ou incorrect (`x`).\n\nExemples :\n\n- `comparer(\"manger\", \"mordue\")` renvoie `'oxxx++'`\n- `comparer(\"chaton\", \"oberon\")` renvoie `'xxxxoo`\n- `comparer(\"tortue\", \"crepes\")` renvoie `'xx+xx+`\n\nPour vous aider : un rappel sur deux façons de construire des chaînes de caractères"},{"metadata":{"trusted":true},"id":"dce026df","cell_type":"code","source":"s = \"abc\"\nprint(s+\"d\")","execution_count":null,"outputs":[]},{"metadata":{"trusted":true},"id":"cb4fbd42","cell_type":"code","source":"l = [\"a\", \"b\", \"c\", \"d\"]\nprint(str.join(\"\", l))","execution_count":null,"outputs":[]},{"metadata":{"trusted":true},"id":"b7a7056b","cell_type":"code","source":"def comparer(proposition, secret):\n    index=0\n    for mot in proposition:\n        if mot == secret[index]:\n            print(\"o\")\n        elif mot in secret :\n            print (\"+\")\n        else :\n            print(\"x\")\n        index=index+1\n    return comparer\n\ncomparer(\"maison\",\"maiosn\")","execution_count":14,"outputs":[{"output_type":"stream","text":"o\no\no\n+\n+\no\n","name":"stdout"},{"output_type":"execute_result","execution_count":14,"data":{"text/plain":"<function __main__.comparer(proposition, secret)>"},"metadata":{}}]},{"metadata":{},"id":"8136d5f8","cell_type":"markdown","source":"### 2. Un tour de jeu\n\nÉcrire une fonction `tour`, avec comme argument `secret`, une chaîne de caractères et `lexique`, une\nliste de chaînes de caractères. `tour` doit\n\n- Demander la saisie d'un mot, qui sera mis en minuscules et stocké dans une variable `proposition`\n- Si `proposition` n'est pas dans `lexique`, redemander une nouvelle saisie. Continuer jusqu'à ce\n  que `proposition` soit dans `lexique`. Là aussi, mettez bien cette saisie en minuscules.\n- Agir en fonction de `proposition`\n  - Si `proposition` est égal à `secret`, renvoyer `True`.\n  - Sinon, afficher le résultat de `comparer(proposition, secret)` et renvoyer `False`.\n  \nPensez à tester votre fonction, par exemple avec `\"caisse\"` pour `secret` et `lexique = [\"caisse\",\n\"sieges\", \"bureau\", \"tables\", \"canapé\"]`. Pour le jeu final, on utilisera un vrai lexique.\n\n**Indice** : rappelez-vous que la boucle conditionnelle `while` existe."},{"metadata":{"trusted":true},"id":"ade69b1d","cell_type":"code","source":"def tour(secret, lexique):    \n    proposition = input(\"Quel est votre mot : \")\n    proposition = proposition.lower()\n    \n    test = False\n    \n    while test == False:\n        for mot in lexique:\n            if proposition == mot:\n                test = True\n                break\n        if test == False:\n            proposition = input(\"Quel est votre mot : \")\n            proposition = proposition.lower()\n\n    if proposition == secret:\n        resultat = True\n        print(resultat)\n    else:\n        resultat = False\n        print(resultat)\n        comparer(proposition, secret)\n    return resultat\n        \nlexique = [\"caisse\", \"sieges\", \"bureau\", \"tables\", \"canapé\"]\ntour(\"bureau\", lexique)","execution_count":35,"outputs":[{"output_type":"stream","name":"stdout","text":"Quel est votre mot :banane\nQuel est votre mot :bureau\nTrue\n"},{"output_type":"execute_result","execution_count":35,"data":{"text/plain":"True"},"metadata":{}}]},{"metadata":{},"id":"68f08782","cell_type":"markdown","source":"### 3. La boucle principale\n\nÉcrire une fonction `partie`, avec comme argument `lexique`, une liste de chaînes de caractères.\n`partie` doit\n\n- Choisir au hasard un mot dans `lexique` et le stocker dans une variable `secret`.\n- Appeler plusieurs fois `tour` :\n  - Si un appel à `tour` renvoie `True` (donc si le mot secret a été trouvé), afficher un message de\n    félicitation et s'arrêter.\n  - Si au bout de six tours la solution n'a pas été trouvé, afficher un message qui indique que la\n    partie est perdu et s'arrêter.\n- Après chaque tour, afficher le nombre d'essais restants.\n\nPensez à tester votre fonction, par exemple avec `lexique = [\"caisse\", \"sieges\", \"bureau\", \"tables\",\n\"canapé\"]`.\n\n**Indices** :\n\n- Si **dans un premier temps**, vous ne trouvez pas comment choisir un mot au hasard, prenez\n  simplement le premier, afin de ne pas rester bloqué⋅e sur ce point (mais revenez-y).\n- La fonction `random.choice` qu'on a vue dans le cours peut vous aider."},{"metadata":{"trusted":true},"id":"80be94ca","cell_type":"code","source":"def partie(lexique):\n    for x in range(6):\n        resultat = tour(\"bureau\", lexique)\n        if resultat == True:\n            break\n\npartie(lexique)","execution_count":37,"outputs":[{"output_type":"stream","name":"stdout","text":"Quel est votre mot :sieges\nFalse\nx\nx\n+\nx\n+\nx\nQuel est votre mot :sieges\nFalse\nx\nx\n+\nx\n+\nx\nQuel est votre mot :sieges\nFalse\nx\nx\n+\nx\n+\nx\nQuel est votre mot :sieges\nFalse\nx\nx\n+\nx\n+\nx\nQuel est votre mot :sieges\nFalse\nx\nx\n+\nx\n+\nx\nQuel est votre mot :sieges\nFalse\nx\nx\n+\nx\n+\nx\n"}]},{"metadata":{},"id":"a4144afa","cell_type":"markdown","source":"### 4. Importer un lexique\n\nÉcrire une fonction `lire_lexique`, avec comme argument un chemin vers un fichier. On suppose que le\nfichier en question existe et est un fichier texte qui contient une liste de mot, chaque mot étant\nsur une ligne. `lire_lexique` doit ouvrir ce fichier en mode lecture et lire son contenu afin de\nrenvoyer une liste `lexique`, qui contiendra les mots autorisés pour le jeu.\n\nPour tester, vous pouvez utiliser le fichier [`lexique.txt`](lexique.txt), qui se trouve dans le\nmême dossier que ce notebook et que vous pouvez télécharger sur votre machine en suivant le lien\nprécédent.\n\nAttention à bien retirer les caractères de fin de ligne `\"\\n\"`."},{"metadata":{"trusted":true},"id":"870ba352","cell_type":"code","source":"def lire_lexique(fichier):\n    open(fichier, \"r\")\n    print(open.read())\n\nlire_lexique(\"C:\\fac\\L3\\S2\\TD\\apprendre a programmer\\lexique.txt\")","execution_count":38,"outputs":[{"output_type":"error","ename":"FileNotFoundError","evalue":"[Errno 2] No such file or directory: 'C:\\x0cac\\\\L3\\\\S2\\\\TD\\x07pprendre a programmer\\\\lexique.txt'","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mFileNotFoundError\u001b[0m                         Traceback (most recent call last)","Input \u001b[0;32mIn [38]\u001b[0m, in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      2\u001b[0m     \u001b[38;5;28mopen\u001b[39m(fichier, \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mr\u001b[39m\u001b[38;5;124m\"\u001b[39m)\n\u001b[1;32m      3\u001b[0m     \u001b[38;5;28mprint\u001b[39m(\u001b[38;5;28mopen\u001b[39m\u001b[38;5;241m.\u001b[39mread())\n\u001b[0;32m----> 5\u001b[0m \u001b[43mlire_lexique\u001b[49m\u001b[43m(\u001b[49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[38;5;124;43mC:\u001b[39;49m\u001b[38;5;130;43;01m\\f\u001b[39;49;00m\u001b[38;5;124;43mac\u001b[39;49m\u001b[38;5;124;43m\\\u001b[39;49m\u001b[38;5;124;43mL3\u001b[39;49m\u001b[38;5;124;43m\\\u001b[39;49m\u001b[38;5;124;43mS2\u001b[39;49m\u001b[38;5;124;43m\\\u001b[39;49m\u001b[38;5;124;43mTD\u001b[39;49m\u001b[38;5;130;43;01m\\a\u001b[39;49;00m\u001b[38;5;124;43mpprendre a programmer\u001b[39;49m\u001b[38;5;124;43m\\\u001b[39;49m\u001b[38;5;124;43mlexique.txt\u001b[39;49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[43m)\u001b[49m\n","Input \u001b[0;32mIn [38]\u001b[0m, in \u001b[0;36mlire_lexique\u001b[0;34m(fichier)\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[38;5;28;01mdef\u001b[39;00m \u001b[38;5;21mlire_lexique\u001b[39m(fichier):\n\u001b[0;32m----> 2\u001b[0m     \u001b[38;5;28;43mopen\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43mfichier\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[38;5;124;43mr\u001b[39;49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[43m)\u001b[49m\n\u001b[1;32m      3\u001b[0m     \u001b[38;5;28mprint\u001b[39m(\u001b[38;5;28mopen\u001b[39m\u001b[38;5;241m.\u001b[39mread())\n","\u001b[0;31mFileNotFoundError\u001b[0m: [Errno 2] No such file or directory: 'C:\\x0cac\\\\L3\\\\S2\\\\TD\\x07pprendre a programmer\\\\lexique.txt'"]}]},{"metadata":{"trusted":true},"id":"4ec408dd","cell_type":"code","source":"lire_lexique(\"lexique.txt\")","execution_count":null,"outputs":[]},{"metadata":{},"id":"fa7d5e24","cell_type":"markdown","source":"### 5. Tout mettre ensemble\n\nVous avez maintenant tout ce qu'il vous faut pour écrire un programme qui charge un lexique depuis\nun fichier prédéterminé et fait jouer une partie."},{"metadata":{"trusted":true},"id":"80bc04bc","cell_type":"code","source":"","execution_count":null,"outputs":[]},{"metadata":{},"id":"a9aa662a","cell_type":"markdown","source":"## Règles facultatives\n\nLes règles suivantes, qui sont présentes dans la plupart des versions existantes, sont facultatives.\nAssurez-vous d'avoir une version qui implémente les règles de base avant de vous y attaquer.\n\n- Le mot secret est choisi dans un lexique beaucoup plus petit que celui des mots autorisés et qui\n  ne contient que des mots très fréquents.\n  - Vous pouvez trouver par exemple sur <http://www.lexique.org> des lexiques du français avec les\n    fréquences d'usages des mots.\n- La comparaison entre le mot secret et le mot proposé ne tient compte ni de la casse, ni des\n  diacritiques. Ainsi `a` et `A` sont considérés comme la même lettre, et `é` et `e` également.\n- On indique les lettres bien trouvées et bien placées dans les mots proposés par un code couleur :\n  - Dans la version de base, 🟩 indique une lettre bien placée, 🟨 une lettre présente, mais mal\n    placée et ⬛ une lettre fausse.\n  - Dans une version adaptée aux personnes daltoniennes, 🟧 indique une lettre bien placée, 🟦 une\n    lettre présente, mais mal placée, et ⬛ une lettre fausse.\n  - Attention, il se peut que les emojis soient mal affichés dans Thonny.\n- En fin de partie, un résumé est affiché, donnant le déroulement de la partie avec les emojis\n  précédents, sans révéler le mot secret ou les propositions, afin de pouvoir être partagé sans\n  spoiler.\n- Le mot secret est déterminé par la date, ainsi on ne peut faire qu'une partie par jour. Attention\n  cependant à trouver une détermination qui ait l'air pseudo-aléatoire pour que le jeu soit plus\n  agréable. Par exemple, éviter de donner les mots par ordre alphabétique.\n- Quand une même lettre apparaît $n$ fois dans le mot proposé et $m$ fois dans le mot secret avec\n  $m<n$, elles sont traitées ainsi :\n\n  - Les $k$ occurrences bien placées de cette lettre sont signalés comme telles.\n  - Si $n-k>0$, les $n-k$ premières occurrences de cette lettre qui sont mal placées sont signalées\n    comme présentes, mais mal placées.\n  - Les occurrences restantes sont signalées comme fausses.\n\n  Exemples :\n  \n  - Mot secret *avions*, mot proposé *avares* : 🟧🟧⬛⬛⬛🟧\n  - Mot secret *marche*, mot proposé *aimant* : 🟦⬛🟦⬛⬛⬛"}],"metadata":{"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"formats":"ipynb,md","split_at_heading":true,"text_representation":{"extension":".md","format_name":"markdown","format_version":"1.3","jupytext_version":"1.13.7"}},"language_info":{"name":"python","version":"3.9.9","mimetype":"text/x-python","codemirror_mode":{"name":"ipython","version":3},"pygments_lexer":"ipython3","nbconvert_exporter":"python","file_extension":".py"}},"nbformat":4,"nbformat_minor":5}